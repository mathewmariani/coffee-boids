var Boid;Boid=function(){function t(t,i){this.radius=8,this.maxspeed=3,this.maxforce=.05,this.sep_dist=25,this.ali_dist=50,this.coh_dist=50,this.position=new Vector2(t,i),this.acceleration=new Vector2,this.velocity=new Vector2(Math.random(),Math.random()),this.velocity.multiply(this.maxspeed)}return t.prototype.tick=function(){this.flock(),this.update(),this.wrap()},t.prototype.addForce=function(t){this.acceleration.add(t)},t.prototype.update=function(){this.velocity.add(this.acceleration),this.velocity.clamp(this.maxspeed),this.position.add(this.velocity),this.acceleration.multiply(0)},t.prototype.render=function(){context.beginPath(),context.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,!1),context.fillStyle="rgba(162, 162, 162, 0.25)",context.fill(),context.lineWidth=.8,context.strokeStyle="#F0F2F3",context.stroke()},t.prototype.flock=function(){var t,i,o;o=this.seperation(),t=this.alignment(),i=this.cohesion(),o.multiply(2.5),t.multiply(1),i.multiply(1),this.addForce(o),this.addForce(t),this.addForce(i)},t.prototype.seperation=function(){var t,i,o,s,e,n,c;for(c=new Vector2,i=0,e=0,n=flock.length;n>e;e++)t=flock[e],t!==this&&(s=this.position.distance(t.position),s>0&&s<this.sep_dist&&(o=Vector2.subtract(this.position,t.position),c.normalize(),c.divide(s),c.add(o),i++));return i>0&&c.divide(i),c.magnitude()>0&&(c.normalize(),c.multiply(this.maxspeed),c.subtract(this.velocity),c.clamp(this.maxforce)),c},t.prototype.alignment=function(){var t,i,o,s,e,n,c;for(n=new Vector2,i=0,s=0,e=flock.length;e>s;s++)t=flock[s],t!==this&&(o=Vector2.distance(this.position,t.position),o>0&&o<this.ali_dist&&(n.add(t.velocity),i++));return i>0?(n.divide(i),n.normalize(),n.multiply(this.maxspeed),c=Vector2.subtract(n,this.velocity),c.clamp(this.maxforce),c):new Vector2},t.prototype.cohesion=function(){var t,i,o,s,e,n;for(n=new Vector2,i=0,s=0,e=flock.length;e>s;s++)t=flock[s],t!==this&&(o=Vector2.distance(this.position,t.position),o>0&&o<this.coh_dist&&(n.add(t.position),i++));return i>0?this.seek(n.divide(i)):new Vector2},t.prototype.seek=function(t){var i,o;return i=Vector2.subtract(t,this.position),i.magnitude()>0?(i.normalize(),i.multiply(this.maxspeed),o=Vector2.subtract(i,this.velocity),o.clamp(this.maxforce)):o=new Vector2,o},t.prototype.wrap=function(){this.position.x<-this.radius&&(this.position.x=canvas.width+this.radius),this.position.y<-this.radius&&(this.position.y=canvas.height+this.radius),this.position.x>canvas.width+this.radius&&(this.position.x=-this.radius),this.position.y>canvas.height+this.radius&&(this.position.y=-this.radius)},t}();